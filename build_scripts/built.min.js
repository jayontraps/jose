!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(arguments.length>1&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),function(a){"use strict";a.fn.fitVids=function(b){var c={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var d=document.head||document.getElementsByTagName("head")[0],e=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",f=document.createElement("div");f.innerHTML='<p>x</p><style id="fit-vids-style">'+e+"</style>",d.appendChild(f.childNodes[1])}return b&&a.extend(c,b),this.each(function(){var b=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];c.customSelector&&b.push(c.customSelector);var d=".fitvidsignore";c.ignore&&(d=d+", "+c.ignore);var e=a(this).find(b.join(","));e=e.not("object object"),e=e.not(d),e.each(function(){var b=a(this);if(!(b.parents(d).length>0||"embed"===this.tagName.toLowerCase()&&b.parent("object").length||b.parent(".fluid-width-video-wrapper").length)){b.css("height")||b.css("width")||!isNaN(b.attr("height"))&&!isNaN(b.attr("width"))||(b.attr("height",9),b.attr("width",16));var c="object"===this.tagName.toLowerCase()||b.attr("height")&&!isNaN(parseInt(b.attr("height"),10))?parseInt(b.attr("height"),10):b.height(),e=isNaN(parseInt(b.attr("width"),10))?b.width():parseInt(b.attr("width"),10),f=c/e;if(!b.attr("id")){var g="fitvid"+Math.floor(999999*Math.random());b.attr("id",g)}b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*f+"%"),b.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(){var a,b,c;if(a=document.getElementById("site-navigation"),a&&(b=document.getElementById("navicon"),"undefined"!=typeof b)){if(c=a.getElementsByTagName("ul")[0],"undefined"==typeof c)return void(b.style.display="none");-1===c.className.indexOf("nav-menu")&&(c.className+=" nav-menu"),b.onclick=function(){-1!==a.className.indexOf("toggled")?a.className=a.className.replace(" toggled",""):a.className+=" toggled"}}}(),function(){var a=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,b=navigator.userAgent.toLowerCase().indexOf("opera")>-1,c=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(a||b||c)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var a=document.getElementById(location.hash.substring(1));a&&(/^(?:a|select|input|button|textarea)$/i.test(a.tagName)||(a.tabIndex=-1),a.focus())},!1)}(),function(a){a(document).ready(function(){function b(){targetHeight=a(document).height(),a(document).width()>=f?g.css({position:"absolute",top:targetHeight,display:"block"}).parent().animate({opacity:1},200):g.css({top:"auto",position:"relative",display:"block"}).parent().animate({opacity:1},200)}function c(b){var c=b.clientX,d=a(document).width(),e=d/2;c>e?a(".nav-next").addClass("on").prev().removeClass("on"):a(".nav-previous").addClass("on").next().removeClass("on")}function d(){a("header").removeClass("playVideo"),a(".hero").fadeIn("slow")}function e(b){b.matches?a(".content").load("vid.html",function(){var b=document.getElementById("introVideo"),c=a(".videoWrapper");a("#overLayH1").animate({opacity:1},1500).delay(800).animate({opacity:0},1e3,function(){a(this).remove(),a(c).addClass("fadein"),b.play()}),a("#pause").on("click",function(){b.paused?(b.play(),a(this).text("||")):(b.pause(),a(this).text(">"))}),a("#close").on("click",function(){c.removeClass("fadein"),b.pause(),c.remove(),d(),a(".content").show()}),b.addEventListener("ended",function(){c.removeClass("fadein"),b.pause(),d(),a(".content").show()})}):d()}var f=1025;a("body").addClass(a(document).width()>=f?"lg-screen":"sm-screen"),a(window).resize(function(){a(document).width()>=f?a("body").removeClass("sm-screen").addClass("lg-screen"):a(document).width()<f&&a("body").addClass("sm-screen").removeClass("lg-screen")});var f=800,g=a("#colophon");if(setTimeout(b,200),a(window).resize(function(){a(document).width()>=f?g.css({position:"absolute",top:targetHeight,bottom:"auto",display:"block"}):a(document).width()<f&&g.css({top:"auto",bottom:"auto",position:"relative",display:"block"})}),!Modernizr.touch&&a("body").hasClass("single-portfolio")){var h=0;a(window).mousemove(function(a){h||(h=setTimeout(function(){c(a),h=0},250))})}if(a.cookie("return_visit","1"),a("body").hasClass("home"))if(a.cookie("return_visit"))d();else if(a.cookie("return_visit","1"),matchMedia){var i=window.matchMedia("(min-width: 1025px)");i.addListener(e),e(i)}else d();a("body").hasClass("lg-screen")&&a("body").on("click","#readMore",function(){a("body").toggleClass("more-info-state"),a(this).hasClass("opened")?(a(".secondaryWrap").toggleClass("on"),a(this).removeClass("opened"),a("#secondary-post").animate({left:"-100%",opacity:0},400),a(this).html("More info &raquo;")):(a(this).addClass("opened"),a(".secondaryWrap").toggleClass("on"),a("#secondary-post").animate({left:0,opacity:1},400),a(this).html("&laquo; Less info"))})})}(jQuery);